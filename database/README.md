# База данных SngVkus

## Описание

База данных MySQL для системы SngVkus - платформы для создания персонализированных продуктов питания.

## Установка

1. Убедитесь, что MySQL установлен и запущен
2. Выполните SQL скрипт для создания базы данных:

```bash
mysql -u root -p < database/sngvkus_schema.sql
```

Или через MySQL Workbench / phpMyAdmin импортируйте файл `sngvkus_schema.sql`

## Структура базы данных

### Основные таблицы

1. **users** - Пользователи системы (студенты, эксперты, координаторы)
2. **projects** - Проекты разработки продуктов
3. **analysis_data** - Результаты анализа CSV файлов
4. **micro_elements** - Микроэлементы из анализа
5. **recipes** - Рецептуры продуктов
6. **premixes** - Обогатительные премиксы
7. **packaging_designs** - Дизайны упаковки
8. **presentations** - Сгенерированные презентации
9. **comments** - Комментарии экспертов и координаторов
10. **notifications** - Уведомления пользователей

### Связи между таблицами

- Проект принадлежит студенту (student_id)
- Проект может иметь назначенного эксперта (expert_id) и координатора (coordinator_id)
- К проекту может быть привязан анализ данных (analysis_data)
- Анализ содержит множество микроэлементов (micro_elements)
- К проекту может быть привязана рецептура (recipes)
- Рецептура использует множество премиксов (recipe_premixes)
- Рецептура содержит микроэлементы (recipe_microelements)
- К проекту может быть привязан дизайн упаковки (packaging_designs)
- К проекту может быть привязана презентация (presentations)
- К проекту может быть множество комментариев (comments)
- Пользователи получают уведомления (notifications)

## Статусы проектов

- `draft` - Черновик
- `analysis` - Анализ данных
- `recipe` - Разработка рецептуры
- `packaging` - Дизайн упаковки
- `presentation` - Презентация
- `expert_review` - Экспертиза
- `completed` - Завершен

## Роли пользователей

- `student` - Студент-разработчик
- `expert` - Эксперт-диетолог
- `coordinator` - Координатор Неофуд

## Типы продуктов

- `chips` - Чипсы
- `flakes` - Хлопья
- `snacks` - Снеки
- `crackers` - Хлебцы

## Предустановленные данные

В базе данных уже созданы 5 премиксов:
1. Премикс железо (150 руб)
2. Премикс цинк (180 руб)
3. Премикс кальций (200 руб)
4. Премикс магний (170 руб)
5. Комплексный премикс (350 руб)

## Примеры использования

См. файл `examples.sql` для примеров запросов.

